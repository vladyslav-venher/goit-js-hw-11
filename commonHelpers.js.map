{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = \"44822102-6d1d7649cda1a595bd957c97f\";\n\nexport function fetchImages(query) {\n    const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n    return fetch(URL).then(res => {\n        \n        console.log(res);\n\n        if (!res.ok) {\n            throw new Error(res.status)\n        }\n\n        return res.json();\n    })\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function showError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight'\n    });\n}\n\nexport function showInfo(message) {\n    iziToast.info({\n        title: 'Info',\n        message: message,\n        position: 'topRight'\n    });\n}\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n\n    const galleryContent = images.map(image => `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n            <div class=\"image-card\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n                <div class=\"info\">\n                    <p>Likes: ${image.likes}</p>\n                    <p>Views: ${image.views}</p>\n                    <p>Comments: ${image.comments}</p>\n                    <p>Downloads: ${image.downloads}</p>\n                </div>\n            </div>\n        </a>\n    `).join('');\n\n    gallery.innerHTML = galleryContent;\n}","\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, showError, showInfo } from './js/render-functions.js';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst loadingIndicator = document.getElementById('loading');\nconst gallery = document.querySelector(\".gallery\");\n\nconst lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\n\nconst searchForm = document.querySelector(\".search-form\")\n\nsearchForm.addEventListener(\"submit\", handlerSubmit);\nfunction handlerSubmit(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const queryValue = form.elements.query.value;\n    if (!queryValue) {\n        showError(\"Please enter something!\");\n        return;\n    }\n\n    gallery.innerHTML = '';\n    loadingIndicator.style.display = 'block';\n\n    fetchImages(queryValue)\n        .then(data => {\n            if (data.hits.length === 0) {\n                showInfo('Sorry, there are no images matching your search query. Please try again!');\n            } else {\n                renderGallery(data.hits);\n                lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            console.log(error);\n            showError('An error occurred while fetching images. Please try again later.')\n        })\n        .finally(() => {\n            loadingIndicator.style.display = 'none';\n            form.reset()\n        });\n} "],"names":["API_KEY","fetchImages","query","URL","res","showError","message","iziToast","showInfo","renderGallery","images","gallery","galleryContent","image","loadingIndicator","lightbox","SimpleLightbox","searchForm","handlerSubmit","event","form","queryValue","data","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCAET,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAM,gCAAgCH,CAAO,MAAME,CAAK,2DAC9D,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAI1B,GAFA,QAAQ,IAAIA,CAAG,EAEX,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG9B,OAAOA,EAAI,MACnB,CAAK,CACL,CCXO,SAASC,EAAUC,EAAS,CAC/BC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,CAEO,SAASE,EAASF,EAAS,CAC9BC,EAAS,KAAK,CACV,MAAO,OACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,CAEO,SAASG,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAAiBF,EAAO,IAAIG,GAAS;AAAA,mBAC5BA,EAAM,aAAa;AAAA;AAAA,4BAEVA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,gCAElCA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAI9C,EAAE,KAAK,EAAE,EAEVF,EAAQ,UAAYC,CACxB,CC/BA,MAAME,EAAmB,SAAS,eAAe,SAAS,EACpDH,EAAU,SAAS,cAAc,UAAU,EAE3CI,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAEtFC,EAAa,SAAS,cAAc,cAAc,EAExDA,EAAW,iBAAiB,SAAUC,CAAa,EACnD,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,MAAM,MACvC,GAAI,CAACC,EAAY,CACbhB,EAAU,yBAAyB,EACnC,MACH,CAEDM,EAAQ,UAAY,GACpBG,EAAiB,MAAM,QAAU,QAEjCb,EAAYoB,CAAU,EACjB,KAAKC,GAAQ,CACNA,EAAK,KAAK,SAAW,EACrBd,EAAS,0EAA0E,GAEnFC,EAAca,EAAK,IAAI,EACvBP,EAAS,QAAO,EAEhC,CAAS,EACA,MAAMQ,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBlB,EAAU,kEAAkE,CACxF,CAAS,EACA,QAAQ,IAAM,CACXS,EAAiB,MAAM,QAAU,OACjCM,EAAK,MAAO,CACxB,CAAS,CACT"}